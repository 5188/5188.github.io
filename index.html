<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>âœ²âœ²åœ£è¯å¿«ä¹âœ²âœ²</title>
  <meta name='renderer' content='webkit'>
  <meta name='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no'/>
  <meta name='apple-mobile-web-app-capable' content='yes' />
  <meta name='full-screen' content='true' />
  <meta name='x5-fullscreen' content='true' />
  <meta name='360-fullscreen' content='true' />
  <meta http-equiv='expires' content='0' />
  <meta name='laya' screenorientation='landscape' />
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <meta http-equiv='expires' content='0' />
  <meta http-equiv='Cache-Control' content='no-siteapp' />
  <style type="text/css">
    *{
      margin: 0;
      padding: 0;
    }
   canvas{
    display: block;
    }
  </style>
 </head>
 <body>
  <canvas id="canvas"></canvas>
  <script>
    function $(id){
      return document.getElementById(id);
    }
   //ç”»å¸ƒ çš„å¤§å°è®¾ç½®
   var mywindow=window.screen;
   var canvas=$("canvas");
   canvas.width=mywindow.width;
   canvas.height=mywindow.height;

   //è¦è¾“å‡ºçš„ä¿¡æ¯
   var str= "ğŸ„âœ²âœ²åœ£è¯å¿«ä¹âœ²âœ²ğŸ";//"â˜‚âœ²â™«â™ªâ¤â˜ƒ";
   str=str.split("");
   var fontSize=32;//è¾“å‡ºå­—ä½“çš„å¤§å°

   //æ¯åˆ—æ˜¾ç¤ºå¤šå°‘ä¸ªä¿¡æ¯
   var cols=canvas.width/fontSize;
   //æ•°ç»„ï¼Œç»Ÿè®¡ä¸‹è½çš„ä½ç½®
   var drops=[];
   for(var i=0;i<cols;i++){
     drops[i]=1;
   }

   var ctx=canvas.getContext("2d");
   function draw(){
    /**
      *è¿™çš„é»‘å®¢å¸å›½ï¼š
      * è·å–é¡µé¢çš„ å¤§å° åŒ…æ‹¬å®½åº¦å’Œé«˜åº¦
      * ç”¨colsè·å–èƒ½å¤Ÿå®½åº¦åŠ è½½åˆ—æ•°
      * dropsåŠ è½½æ¯ä¸€åˆ—çš„ä½ç½®
      * drops[2]=10 2ä¸ºç¬¬äºŒæ’çš„ topä¸º10
      */
    ctx.fillStyle="rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle="green";
    ctx.font=fontSize+"px arial";
    for(var i=0;i<cols;i++){
      var text=str[ Math.floor( Math.random() * (str.length) ) ];
      // console.info("x-"+i*fontSize);
      // console.info("y-"+drops[i]*fontSize);
      var r=Math.floor(Math.random()*256);
      var g=Math.floor(Math.random()*256);
      var b=Math.floor(Math.random()*256);
      ctx.fillStyle="rgb("+r+','+g+','+b+")";
      ctx.fillText(text,i*fontSize,drops[i]*fontSize);
      if(drops[i]*fontSize > canvas.height || Math.random() > 0.95)
          drops[i] = 0;//æŠŠä½ç½®æ¢å¤åˆ°æœ€ä¸Šé¢
      //æ§åˆ¶ä¸‹è½çš„ä½ç½®
      drops[i]++;
    }
  }
  setInterval(draw,100);
 </script>
</body>
</html>